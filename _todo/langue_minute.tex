\input{../../common/exo_begin.tex}%
\firstpassagedo{\refstepcounter{cxtd}\refstepcounter{cxtd}\refstepcounter{cxtd}}



\begin{xtd}{Deviner la langue d'un texte minuté}{langue_minute_cor}\label{langue_minute_label}

\partietdVU{fonction, listes, fichiers, dictionnaire}{histogramme, score}

L'objectif est de distinguer un texte anglais d'un texte français sans avoir à le lire. Le premier réflexe consisterait à chercher la présence de mots typiquement anglais ou français. Cette direction est sans doute un bon choix lorsque le texte considéré est une \oe uvre littéraire. Mais sur Internet, les contenus mélangent fréquemment les deux langues~: la présence de tel mot anglais n'est plus aussi discriminante. Il n'est plus aussi évident d'étiqueter un document de langue anglaise lorsque les mots anglais sont présents partout.

On ne cherche plus à déterminer la langue d'un texte mais plutôt la langue majoritaire. Il serait encore possible de compter les mots de chacune des langues à l'aide d'un dictionnaire réduit de mots anglais et français. La langue majoritaire correspondrait à celle dont les mots sont les plus fréquents. Mais construire un dictionnaire est d'abord fastidieux. Ensuite, il faudrait que celui-ci contienne des mots présents dans la plupart des textes. Il faudrait aussi étudier le problème des mots communs aux deux langues. Pour ces raisons, il paraît préférable d'étudier d'abord une direction plus simple quitte à y revenir plus tard.

Cette idée plus simple consiste à compter la fréquence des lettres. On s'attend à ce que certaines lettres soient plus fréquentes dans un texte anglais que dans un texte français.



\partietda{fichiers, histogramme}

\tdquest On s'inspire de ce qui a été fait au TD précédent~: télécharger un texte\footnote{via le site \httpstyle{http://www.gutenberg.org/} par exemple} et le lire depuis un programme \python. C'est-à-dire écrire une fonction qui prend comme argument un nom de fichier et qui retourne une chaîne de caractères.

\tdquest Toujours en s'inspirant du TD précédent, construire un histogramme comptant les occurrences de chaque lettre dans ce texte. C'est-à-dire écrire une fonction qui prend comme argument une chaîne de caractères et qui retourne un dictionnaire dont vous choisirez ce que seront les clés et les valeurs.




\partietdb{score}

\tdquest Un texte inconnu contient 10 lettres~I. Que pouvez-vous en conclure~? Pensez-vous que les fréquences de la lettre~I dans un texte long et dans un texte court soient comparables~?

\tdquest Ecrire une fonction qui normalise toutes les valeurs du dictionnaire à un.

\begin{verbatimx}
def normalise (dico) :
    # faire la somme en une ligne avec la fonction sum
    
    # diviser
    
    # fin
    return nouveau_dico
\end{verbatimx}

\tdquest Appliquer votre fonction à un texte anglais et à un autre français,~... Que suggérez-vous comme indicateur pour distinguer un texte français d'un texte anglais~?







\partietdc{score et seuil}

\tdquest Choisir deux langues et calculer votre indicateur pour dix textes de chaque langue. 

\tdquest On suppose qu'on regroupe tous ces résultats en une matrice~:
\begin{enumerate}
\item première colonne : la valeur de votre indicateur
\item seconde colonne : langue du texte
\end{enumerate}

Que proposez-vous pour déterminer un seuil qui départage les deux langues selon votre indicateur~?


\tdquest Comment proposez-vous d'implémenter la méthode que vous suggérez à la question précédente~? Une fonction... Ses paramètres... Son ou ses résultats...





\partietdd{score et seuil}

\tdquest Implémenter la méthode suggérée. Si le résultat est constitué d'un unique nombre réel, on l'appelle le \textbf{score}.

\tdquest Télécharger le fichier suivant~: \httpstyle{http://www.xavierdupre.fr/enseignement/tutoriels\_data/articles.zip} et le décompresser dans le même répertoire que votre programme. Ensuite, essayer le programme suivant.

\begin{verbatimx}
import os
for fichier in os.listdir (".") :
    print fichier
\end{verbatimx}

Ecrire une fonction qui calcule votre score pour tous les textes décompressés~?

\tdquest Est-ce que votre score marche dans tous les cas~?






\partietdEND

\tdquest Le score est ici un nombre unique généré à partir des documents. Admettons que nous disposons de deux scores, la fréquence de la lettre~E et celle de la lettre~W, comment les combiner pour obtenir un score meilleur que les deux pris séparément~?



\partietdCOMMENT

Ce problème s'inscrit dans un problème plus général de classification\footnote{\httpstyle{http://en.wikipedia.org/wiki/Statistical\_classification}}\footnote{\httpstyle{http://en.wikipedia.org/wiki/K-nearest\_neighbor\_algorithm}} ou d'analyse discriminante\footnote{\httpstyle{http://fr.wikipedia.org/wiki/Analyse\_discriminante}}\footnote{\httpstyle{http://fr.wikipedia.org/wiki/Analyse\_discriminante\_lin\%C3\%A9aire}}\footnote{\httpstyle{http://cedric.cnam.fr/\~saporta/discriminante.pdf}}. Il s'agit de déterminer un score, un indicateur numérique capable de déterminer automatiquement la langue d'un texte sans avoir à le lire. Ces indicateurs ne sont pas infaillibles, il sera toujours possible de le duper particulièrement sur des petits textes mais cela ne veut pas dire que ce score ne pourrait pas être utilisé pour estimer de façon grossière la quantité de pages internet dans chaque langue.



\end{xtd}




\input{../../common/exo_end.tex}%